---
title: Rozwiązywanie problemów z protokołami OAuth 2.0 i OpenID Connect
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 03/17/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "9776"
- "9004342"
ms.openlocfilehash: d2f14d4d16bea890b564cdb9bd9ac3875c28d115
ms.sourcegitcommit: c08bed4071baa3bb5879496df3ed44fb828c8367
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/19/2021
ms.locfileid: "51037692"
---
# <a name="troubleshoot-oauth-20-and-openid-connect-protocols"></a><span data-ttu-id="8d612-102">Rozwiązywanie problemów z protokołami OAuth 2.0 i OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="8d612-102">Troubleshoot OAuth 2.0 and OpenID Connect protocols</span></span>

<span data-ttu-id="8d612-103">Aby rozwiązać problemy z protokołu OAuth 2.0 i OpenID Connect, wykonaj następujące zalecane czynności:</span><span class="sxs-lookup"><span data-stu-id="8d612-103">To resolve OAuth 2.0 and OpenID Connect issues, perform the following recommended steps:</span></span>

<span data-ttu-id="8d612-104">Zapoznaj się z następującymi artykułami związanymi z konfiguracją i rozwiązywaniem problemów z protokołami OAuth 2.0 i OpenID Connect:</span><span class="sxs-lookup"><span data-stu-id="8d612-104">Refer to the following articles that are related to configuration and troubleshooting OAuth 2.0 and OpenID Connect protocols:</span></span>

- <span data-ttu-id="8d612-105">Platforma tożsamości firmy Microsoft i przepływ kodu autoryzacji [OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) — w tym artykule opisano, jak programować bezpośrednio przy użyciu przepływu przyznawania kodu **(PKCE)** w aplikacji, używając dowolnego języka.</span><span class="sxs-lookup"><span data-stu-id="8d612-105">[Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - This article describes how to program directly against the **code grant (PKCE) flow** in your application, using any language.</span></span>
- <span data-ttu-id="8d612-106">Platforma tożsamości firmy Microsoft i przepływ poświadczeń klienta [OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) — w tym artykule opisano, jak programować bezpośrednio z przepływem poświadczeń klienta **w** aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d612-106">[Microsoft identity platform and the OAuth 2.0 client credentials flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - This article describes how to program directly against the **client credentials flow** in your application.</span></span>
- <span data-ttu-id="8d612-107">Platforma tożsamości firmy Microsoft i poświadczenia hasła właściciela zasobu [2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) — w tym artykule opisano, jak programować bezpośrednio w aplikacji przy użyciu przepływu **DOC.**</span><span class="sxs-lookup"><span data-stu-id="8d612-107">[Microsoft identity platform and OAuth 2.0 Resource Owner Password Credentials](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - This article describes how to program directly against the **ROPC flow** in your application.</span></span>
    - <span data-ttu-id="8d612-108">Platforma tożsamości firmy Microsoft obsługuje tylko program PROCD dla dzierżaw usługi Azure AD, a nie dla kont osobistych.</span><span class="sxs-lookup"><span data-stu-id="8d612-108">The Microsoft identity platform only supports ROPC for Azure AD tenants, and not for personal accounts.</span></span> <span data-ttu-id="8d612-109">Oznacza to, że należy użyć punktu końcowego **dzierżawy (lub https://login.microsoftonline.com/{TenantId_or_Name})** punktu **końcowego organizacji).**</span><span class="sxs-lookup"><span data-stu-id="8d612-109">This means that you must use a tenant-specific endpoint **(https://login.microsoftonline.com/{TenantId_or_Name})** or the **organizations** endpoint.</span></span>
    - <span data-ttu-id="8d612-110">Konta osobiste zaproszone do dzierżawy usługi Azure AD nie mogą korzystać z funkcjiKIC.</span><span class="sxs-lookup"><span data-stu-id="8d612-110">Personal accounts that are invited to an Azure AD tenant can't use ROPC.</span></span>
    - <span data-ttu-id="8d612-111">Konta bez haseł nie mogą logować się za pośrednictwem tego systemu.</span><span class="sxs-lookup"><span data-stu-id="8d612-111">Accounts that don't have passwords can't sign in through ROPC.</span></span> <span data-ttu-id="8d612-112">W tym scenariuszu zalecamy używanie innego przepływu dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d612-112">For this scenario, we recommend that you use a different flow for your app, instead.</span></span>
    - <span data-ttu-id="8d612-113">Użytkownicy, którzy będą logować się do aplikacji przy użyciu uwierzytelniania wieloskładnikowego [(MFA, multi-factor authentication),](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) zostaną zablokowani.</span><span class="sxs-lookup"><span data-stu-id="8d612-113">If users need to use [multi-factor authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) to log in to the application, they will be blocked.</span></span>
    - <span data-ttu-id="8d612-114">PROGRAM DOC nie jest obsługiwany [w](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenariuszach federacji tożsamości hybrydowej (na przykład w usługach Azure AD i ADFS używanych do uwierzytelniania kont lokalnych).</span><span class="sxs-lookup"><span data-stu-id="8d612-114">ROPC is not supported in [hybrid identity federation](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenarios (for example, Azure AD and ADFS used to authenticate on-premises accounts).</span></span> <span data-ttu-id="8d612-115">Jeśli użytkownicy są przekierowani na pełną stronę do lokalnego dostawcy tożsamości, usługa Azure AD nie może przetestować nazwy użytkownika i hasła względem tego dostawcy tożsamości.</span><span class="sxs-lookup"><span data-stu-id="8d612-115">If users are full-page redirected to an on-premises identity provider, Azure AD is not able to test the username and password against that identity provider.</span></span> <span data-ttu-id="8d612-116">[Uwierzytelnianie pass-through](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) jest jednak obsługiwane przez kodER-TOC.</span><span class="sxs-lookup"><span data-stu-id="8d612-116">[Pass-through authentication](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) is supported with ROPC, however.</span></span>
    - <span data-ttu-id="8d612-117">Wyjątek do scenariusza federacji tożsamości hybrydowej może być następujący: Zasady odnajdowania realm głównego z ustawieniem **AllowCloudPasswordValidation** ustawionym na wartość **TRUE** umożliwią pracę przepływu PRACC dla użytkowników federowanych, gdy hasło lokalne jest synchronizowane z chmurą.</span><span class="sxs-lookup"><span data-stu-id="8d612-117">An exception to a hybrid identity federation scenario would be the following: Home Realm Discovery policy with **AllowCloudPasswordValidation** set to **TRUE** will enable ROPC flow to work for federated users when on-premises password is synced to cloud.</span></span> <span data-ttu-id="8d612-118">Aby uzyskać więcej informacji, zobacz Włączanie bezpośredniego uwierzytelniania [OKC użytkowników federowanych dla starszych aplikacji.](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span><span class="sxs-lookup"><span data-stu-id="8d612-118">For more information, see [Enable direct ROPC authentication of federated users for legacy applications](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span></span> 
- <span data-ttu-id="8d612-119">Platforma tożsamości firmy Microsoft i przepływ [OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) w imieniu — w tym artykule opisano, jak programować bezpośrednio przepływ w **imieniu użytkownika (OBO)** w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d612-119">[Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - This article describes how to program directly against the **on-behalf-of (OBO) flow** in your application.</span></span>
- <span data-ttu-id="8d612-120">[Platforma tożsamości firmy Microsoft](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) i protokół OpenID Connect — w tym artykule pokazano, jak wdrożyć protokół OpenID Connect niezależnie od języka, a także opisano sposób wysyłania i odbierania wiadomości HTTP bez korzystania z jakichkolwiek bibliotek open source firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8d612-120">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - This article shows how to implement the OpenID Connect protocol independent of language, and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>

<span data-ttu-id="8d612-121">**Tokeny dostępu**</span><span class="sxs-lookup"><span data-stu-id="8d612-121">**Access Tokens**</span></span>

<span data-ttu-id="8d612-122">[Tokeny dostępu platformy](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) tożsamości firmy Microsoft — dowiedz się, jak interfejs API może sprawdzać poprawność roszczeń wewnątrz tokenu dostępu i korzystać z nich.</span><span class="sxs-lookup"><span data-stu-id="8d612-122">[Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Learn how your API can validate and use the claims inside an access token.</span></span> <span data-ttu-id="8d612-123">Cała dokumentacja w tym artykule, z wyjątkiem przypadków określonych, dotyczy tylko tokenów wystawionych dla zarejestrowanych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="8d612-123">All documentation in this article, except where noted, applies only to tokens issued for APIs you've registered.</span></span> <span data-ttu-id="8d612-124">Nie mają one zastosowania do tokenów wystawionych dla interfejsów API należących do firmy Microsoft ani nie można ich używać do sprawdzania, jak platforma tożsamości firmy Microsoft będzie wystawiać tokeny dla tworzyć przez Ciebie interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="8d612-124">It does not apply to tokens issued for Microsoft-owned APIs, nor can those tokens be used to validate how the Microsoft identity platform will issue tokens for an API you create.</span></span>

<span data-ttu-id="8d612-125">**Konfiguracja aplikacji**</span><span class="sxs-lookup"><span data-stu-id="8d612-125">**Application Configuration**</span></span>

<span data-ttu-id="8d612-126">[Ograniczenia i limity](https://docs.microsoft.com/azure/active-directory/develop/reply-url) dotyczące przekierowania URI (adresu URL odpowiedzi) — dowiedz się, jak skonfigurować adres URL przekierowania (adresu URL odpowiedzi).</span><span class="sxs-lookup"><span data-stu-id="8d612-126">[Redirect URI (reply URL) restrictions and limitations](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Learn how to configure your Redirect URI (reply URL).</span></span> <span data-ttu-id="8d612-127">Identyfikator URI przekierowania (adres URL odpowiedzi) to lokalizacja, w której serwer autoryzacji wysyła do użytkownika po pomyślnym dokonaniu autoryzacji i przyznaniu kodu autoryzacji lub tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="8d612-127">A redirect URI, or reply URL, is the location where the authorization server sends the user once the app has been successfully authorized and granted an authorization code or access token.</span></span> <span data-ttu-id="8d612-128">Serwer autoryzacji wysyła kod lub token do URI przekierowywania. dlatego ważne jest, aby zarejestrować prawidłową lokalizację w ramach procesu rejestracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d612-128">The authorization server sends the code or token to the redirect URI; so it's important you register the correct location as part of the app registration process.</span></span>

<span data-ttu-id="8d612-129">**Inicjowanie obsługi administracyjnej aplikacji**</span><span class="sxs-lookup"><span data-stu-id="8d612-129">**Application Provisioning**</span></span>

<span data-ttu-id="8d612-130">[Samouczek: opracowywanie i planowanie](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) inicjowania obsługi administracyjnej dla punktu końcowego programu SCIM — w tym artykule opisano, jak utworzyć punkt końcowy programu SCIM i zintegrować go z usługą inicjowania obsługi administracyjnej AAD.</span><span class="sxs-lookup"><span data-stu-id="8d612-130">[Tutorial: Develop and plan provisioning for a SCIM endpoint](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - This article describes how to build an SCIM endpoint and integrate with the AAD provisioning service.</span></span>


